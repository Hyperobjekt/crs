import tailwind from "./tailwind.config";

const { colors } = tailwind.theme.extend;

const MIN_ZOOM = .7;
const MAX_ZOOM = 4;
const STROKE_COLOR_DEFAULT = colors["map-outline"];
const STROKE_COLOR_ACTIVE = colors["gray-600"];
const STROKE_WIDTH_DEFAULT = 1;
const STROKE_WIDTH_ACTIVE = 2.25;
const MARKER_SIZE = 12;
const DC_SIZE = 30;
const DC_OFFSET_X = 110;
const DC_OFFSET_Y = -20;

const STATE_COLORS = [
	colors["state-1"],
	colors["state-2"],
	colors["state-3"],
];

const LOCAL_COLORS = {
	LocalSch: [
		colors["accent-orange"],
		colors["accent-orange-dark"],
	],
	LocalOth: [
		colors["accent-purple"],
		colors["accent-purple-dark"],
	],
};

const SHAPES = {
	LocalSch: `M ${MARKER_SIZE / 2 + STROKE_WIDTH_DEFAULT} ${STROKE_WIDTH_DEFAULT} L ${MARKER_SIZE + STROKE_WIDTH_DEFAULT} ${MARKER_SIZE} L ${STROKE_WIDTH_DEFAULT} ${MARKER_SIZE} Z`,
	LocalOth: `M ${STROKE_WIDTH_DEFAULT} ${MARKER_SIZE / 2 + STROKE_WIDTH_DEFAULT} A ${MARKER_SIZE / 2} ${MARKER_SIZE / 2} 0 ${STROKE_WIDTH_DEFAULT} 0 ${MARKER_SIZE + STROKE_WIDTH_DEFAULT} ${MARKER_SIZE / 2 + STROKE_WIDTH_DEFAULT} A ${MARKER_SIZE / 2} ${MARKER_SIZE / 2} 0 ${STROKE_WIDTH_DEFAULT} 0 ${STROKE_WIDTH_DEFAULT} ${MARKER_SIZE / 2 + STROKE_WIDTH_DEFAULT}`,
	State: `M ${STROKE_WIDTH_DEFAULT} ${STROKE_WIDTH_DEFAULT} L ${MARKER_SIZE} ${STROKE_WIDTH_DEFAULT} V ${MARKER_SIZE} H ${STROKE_WIDTH_DEFAULT} V ${STROKE_WIDTH_DEFAULT}`,
	Federal: `M65.0011 31.3409V11.6667H75.0011V31.3409C94.2354 33.6069 109.629 48.77 109.995 67.8647L113.748 68.562V84.8163H140V133.583H113.748V133.584H26.2477V133.583H0V84.8163H26.2477V68.562L30.0078 67.8634C30.3736 48.7693 45.7673 33.6068 65.0011 31.3409ZM40.133 65.9824L69.9977 60.4342L99.8694 65.9837C98.4619 52.2721 85.936 41.0481 70.0011 41.0481C54.0668 41.0481 41.5412 52.2714 40.133 65.9824ZM69.9977 70.6053L103.748 76.8753V84.8163H36.2477V76.8753L69.9977 70.6053ZM26.2477 123.583H10V94.8163H26.2477V123.583ZM36.2477 123.583V94.8163H43.7534V123.583H36.2477ZM53.7534 123.583V94.8163H87.4966V123.583H53.7534ZM97.4966 123.583H103.748V94.8163H97.4966V123.583ZM113.748 123.583H130V94.8163H113.748V123.583Z`,
};

const PATTERN_ROTATE = {
	LocalSch: 135,
	LocalOth: 90,
};
const PATTERN_WIDTH = 1.5;
const PATTTERN_GAP = 1.5;

const LOCAL_PATTERNS = (
	<defs>
		{["LocalSch", "LocalOth"].map(level => (
			<pattern
				key={level}
				id={`pattern-${level}`}
				patternUnits="userSpaceOnUse"
				width={PATTTERN_GAP + PATTERN_WIDTH / 2}
				height={PATTTERN_GAP + PATTERN_WIDTH / 2}
				patternTransform={`rotate(${PATTERN_ROTATE[level]})`}>
				<line
					x1="0"
					y="0"
					x2="0"
					y2={PATTTERN_GAP + PATTERN_WIDTH / 2}
					stroke={LOCAL_COLORS[level][0]}
					strokeWidth={PATTERN_WIDTH} />
			</pattern>
		))}

	</defs>
);

export default {
	MIN_ZOOM,
	MAX_ZOOM,
	STROKE_COLOR_DEFAULT,
	STROKE_COLOR_ACTIVE,
	STROKE_WIDTH_DEFAULT,
	STROKE_WIDTH_ACTIVE,
	MARKER_SIZE,
	DC_SIZE,
	DC_OFFSET_X,
	DC_OFFSET_Y,
	STATE_COLORS,
	LOCAL_COLORS,
	LOCAL_PATTERNS,
	SHAPES,
	PATTERN_ROTATE,
	PATTERN_WIDTH,
	PATTTERN_GAP,
};